<html ng-app="angular">

<head>
  <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
  <!--Load the js and jquery API-->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.5/socket.io.min.js"></script>
  <script type="text/javascript" charset="utf-8"></script>

  <!--Load the AJAX API-->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

  <!--Load the angular js-->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular-route.min.js"></script>

  <!--Load the graph logic js-->
  <script type="text/javascript" src="./script/Overview.js"></script>
  <script type="text/javascript" src="./script/Revenue.js"></script>
  <script type="text/javascript" src="./script/Retention.js"></script>
  <script type="text/javascript" src="./script/Realtime.js"></script>

  <!--Load MachineLearning logic js-->
  <script type="text/javascript" src="./script/MLPredict.js"></script>
  <script type="text/javascript" src="./script/MLstart.js"></script>

  <!--Load the SPA js-->
  <script type="text/javascript" src="./script/OneSingle.js"></script>

  <!--Load the Customed css-->
  <link rel="stylesheet" type="text/css" href="./css/style.css">
</head>

<body>
  <div id="wrap">
    <div id="header" class="subheader">
      <div id="topmenu">
        <div id="logo">
          <a href="/">
            <img src=""/>
          </a>
        </div>
        <nav id="menu">
          <ul id="menu-nav" class="mainMenu">
            <li class="interval">
              <a class="underbar" href="#/">기본지표 </a>
              <ul class="subMenu" id="idSub">
                <li class="sub"><a href="#/Overview/AU" onclick="callAU()" style="padding-top:12px;">활동 유저수 </a></li>
                <li class="sub"><a href="#/Overview/DPA" onclick="callDPA()" style="padding-top:12px;">매출액 </a></li>
                <li class="sub"><a href="#/Realtime/HAU" onclick="callHAU()" style="padding-top:12px;">시간별 활동 유저수 </a></li>
                <li class="sub"><a href="#" onclick="yet()" style="padding-top:12px;">평균 게임플레이 시간 </a></li>
              </ul>
            </li>
            <li class="interval">
              <a class="underbar" href="#/Revenue/DARPU">인앱매출 </a>
              <ul class="subMenu" id="idSub" style="margin-left:-227px;">
                <li class="sub"><a href="#/Revenue/DARPU" onclick="callDARPU()" style="padding-top:12px;">평균 매출 </a></li>
                <li class="sub"><a href="#/Revenue/PU" onclick="callPU()" style="padding-top:12px;">구매 유저수 </a></li>
                <li class="sub"><a href="#/Revenue/FPU" onclick="callFPU()" style="padding-top:12px;">최초 구매 유저수 </a></li>
              </ul>
            </li>
            <li class="interval">
              <a class="underbar" href="#/Retention/Dormant">리텐션 </a>
              <ul class="subMenu" id="idSub" style="margin-left:-444px;">
                <li class="sub"><a href="#/Retention/Dormant" onclick="callDormant()" style="padding-top:12px;">휴면유저 </a></li>
                <li class="sub"><a href="#" onclick="yet()" style="padding-top:12px;">복귀유저 </a></li>
              </ul>
            </li>
            <li class="interval">
              <a class="underbar" id="ML" href="#/ML/start">머신러닝 </a>
              <ul class="subMenu" id="idSub" style="margin-left:-661px">
                <li class="sub"><a href="#/ML/start" onclick="getDBData()" style="padding-top:12px;">ML 시작하기</a></li>
                <li class="sub"><a href="#/ML/predict" style="padding-top:12px;">이탈률 계산</a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <div class="navi_bg" style="display: none;"></div>
      </div>
    </div>
    <div id="content" style="margin-top:200px;" ng-view>
    </div>
  </div>
</body>
<script>
var closeTimer = null;
var counterTimer = 300;
var noClose = 0;
var colNum = 0;
  $(".subMenu").hide();
  $(".mainMenu>li").hover(function() {
    if(colNum == 0) {
      $(".navi_bg").slideDown(200);
      colNum++;
    }
    $(".subMenu").hide();
    $(this).find(".subMenu").stop().slideDown(400);
    mcancelclosetime();
  },function() {
    mclosetime();
  });
// Turn On Close Timer
function mclosetime() {
    closeTimer = window.setTimeout(mclose, counterTimer);
}
// Cancel Close Timer
function mcancelclosetime() {
    if(closeTimer) {
        window.clearTimeout(closeTimer);
        closeTimer = null;
    }
}
// Close Showed Layer
function mclose() {
  $(".mainMenu>li").find(".subMenu").slideUp(250);
  $(".navi_bg").slideUp(200);
  colNum = 0;
}
</script>

<script>
//ready
$(function() {
  callAU();
});
</script>

</html>
